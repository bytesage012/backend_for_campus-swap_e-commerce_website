
> backend@1.0.0 test
> NODE_OPTIONS=--experimental-vm-modules jest --runInBand

(node:28676) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS tests/wallet.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚úÖ audit secrets and track compliance: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [INFO] [2026-01-04T01:16:44.711Z] Initializing Deposit {
        "userId": "3bf9eabc-64ee-4dd5-ab09-dfbd2ce82c98",
        "amount": 5000
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:16:45.743Z] Paystack Webhook Received {
        "event": "charge.success",
        "reference": "test-ref-1767489405737"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:16:45.780Z] Deposit Successful via Webhook {
        "userId": "3bf9eabc-64ee-4dd5-ab09-dfbd2ce82c98",
        "amount": 5000,
        "reference": "test-ref-1767489405737"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.warn
      [WARN] [2026-01-04T01:16:45.799Z] Invalid Paystack Signature {
        "received": "invalid-hash"
      }

       8 |     },
       9 |     warn: (message: string, context?: any) => {
    > 10 |         console.warn(`[WARN] [${new Date().toISOString()}] ${message}`, context ? JSON.stringify(context, null, 2) : '');
         |                 ^
      11 |     }
      12 | };
      13 |

      at Object.warn (src/utils/logger.ts:10:17)
      at paystackWebhook (src/controllers/paymentController.ts:57:16)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/router/lib/route.js:117:3)
      at handle (node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at node_modules/router/index.js:295:15
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Function.handle (node_modules/router/index.js:186:3)
      at router (node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/router/index.js:342:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/body-parser/lib/read.js:172:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

PASS tests/auth.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [INFO] [2026-01-04T01:16:48.368Z] User Registration Attempt {
        "email": "test@unn.edu.ng"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:16:48.638Z] User Registered Successfully {
        "userId": "4f6d9f77-fa3f-48ce-b2a6-a932eeff3a0a"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.warn
      [WARN] [2026-01-04T01:16:48.662Z] Register Validation Error [
        {
          "origin": "string",
          "code": "invalid_format",
          "format": "email",
          "pattern": "/^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$/",
          "path": [
            "email"
          ],
          "message": "Invalid email format"
        }
      ]

       8 |     },
       9 |     warn: (message: string, context?: any) => {
    > 10 |         console.warn(`[WARN] [${new Date().toISOString()}] ${message}`, context ? JSON.stringify(context, null, 2) : '');
         |                 ^
      11 |     }
      12 | };
      13 |

      at Object.warn (src/utils/logger.ts:10:17)
      at handleControllerError (src/controllers/authController.ts:13:16)
      at register (src/controllers/authController.ts:64:16)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/router/lib/route.js:117:3)
      at handle (node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at node_modules/router/index.js:295:15
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Function.handle (node_modules/router/index.js:186:3)
      at router (node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/router/index.js:342:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/body-parser/lib/read.js:172:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

    console.log
      [INFO] [2026-01-04T01:16:48.677Z] User Registration Attempt {
        "email": "test@unn.edu.ng"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.warn
      [WARN] [2026-01-04T01:16:48.695Z] Registration Failed: User exists {
        "email": "test@unn.edu.ng"
      }

       8 |     },
       9 |     warn: (message: string, context?: any) => {
    > 10 |         console.warn(`[WARN] [${new Date().toISOString()}] ${message}`, context ? JSON.stringify(context, null, 2) : '');
         |                 ^
      11 |     }
      12 | };
      13 |

      at Object.warn (src/utils/logger.ts:10:17)
      at register (src/controllers/authController.ts:32:20)

    console.log
      [INFO] [2026-01-04T01:16:48.709Z] User Login Attempt {
        "email": "test@unn.edu.ng"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:16:48.905Z] User Logged In Successfully {
        "userId": "4f6d9f77-fa3f-48ce-b2a6-a932eeff3a0a"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:16:48.914Z] User Login Attempt {
        "email": "test@unn.edu.ng"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.warn
      [WARN] [2026-01-04T01:16:49.117Z] Login Failed: Invalid password {
        "email": "test@unn.edu.ng"
      }

       8 |     },
       9 |     warn: (message: string, context?: any) => {
    > 10 |         console.warn(`[WARN] [${new Date().toISOString()}] ${message}`, context ? JSON.stringify(context, null, 2) : '');
         |                 ^
      11 |     }
      12 | };
      13 |

      at Object.warn (src/utils/logger.ts:10:17)
      at login (src/controllers/authController.ts:83:20)

    console.log
      [INFO] [2026-01-04T01:16:49.128Z] User Login Attempt {
        "email": "test@unn.edu.ng"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:16:49.428Z] User Logged In Successfully {
        "userId": "4f6d9f77-fa3f-48ce-b2a6-a932eeff3a0a"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:16:49.513Z] Profile Updated {
        "userId": "4f6d9f77-fa3f-48ce-b2a6-a932eeff3a0a"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:16:49.701Z] Profile Updated {
        "userId": "4f6d9f77-fa3f-48ce-b2a6-a932eeff3a0a"
      }

      at Object.info (src/utils/logger.ts:3:17)

PASS tests/conversations.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [INFO] [2026-01-04T01:16:52.565Z] New Conversation Started {
        "conversationId": "8f7b8fe9-8eeb-440c-be4b-467d7d427124",
        "buyerId": "aa0e4378-eccf-4211-92a5-e883261423b8",
        "listingId": "7c251bd0-c48d-4d6b-ac95-a9c2da05a854"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.warn
      [WARN] [2026-01-04T01:16:52.589Z] StartConversation Validation Error [
        {
          "expected": "string",
          "code": "invalid_type",
          "path": [
            "listingId"
          ],
          "message": "Invalid input: expected string, received undefined"
        }
      ]

       8 |     },
       9 |     warn: (message: string, context?: any) => {
    > 10 |         console.warn(`[WARN] [${new Date().toISOString()}] ${message}`, context ? JSON.stringify(context, null, 2) : '');
         |                 ^
      11 |     }
      12 | };
      13 |

      at Object.warn (src/utils/logger.ts:10:17)
      at handleControllerError (src/controllers/authController.ts:13:16)
      at startConversation (src/controllers/conversationController.ts:44:16)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/router/lib/route.js:117:3)
      at handle (node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at node_modules/router/index.js:295:15
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at protect (src/routes/authRoutes.ts:49:9)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/router/index.js:342:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Function.handle (node_modules/router/index.js:186:3)
      at router (node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/router/index.js:342:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/body-parser/lib/read.js:172:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

    console.log
      [INFO] [2026-01-04T01:16:52.700Z] Message Sent {
        "conversationId": "8f7b8fe9-8eeb-440c-be4b-467d7d427124",
        "senderId": "aa0e4378-eccf-4211-92a5-e883261423b8",
        "messageId": "723505ae-8627-4611-85c5-a139a6d263ed"
      }

      at Object.info (src/utils/logger.ts:3:17)

PASS tests/websocket.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîÑ add secrets lifecycle management: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      User connected: sMAhPYJWUDdPeXqFAAAB (User ID: 8369ac16-d664-4aea-afd0-23213f595ee4)

      at Namespace.<anonymous> (src/socket.ts:34:21)

    console.log
      User disconnected: sMAhPYJWUDdPeXqFAAAB

      at Socket.<anonymous> (src/socket.ts:52:21)

    console.log
      User connected: J0Zf5KUwYaxX-XJcAAAG (User ID: 0b370c5c-c40b-44cb-aa65-89e46d651282)

      at Namespace.<anonymous> (src/socket.ts:34:21)

    console.log
      User connected: H-6meZdsbJ89cSgdAAAH (User ID: 8369ac16-d664-4aea-afd0-23213f595ee4)

      at Namespace.<anonymous> (src/socket.ts:34:21)

    console.log
      [INFO] [2026-01-04T01:16:55.647Z] New Conversation Started {
        "conversationId": "bbe0a4e4-db03-4b70-b507-d74d7aa1a383",
        "buyerId": "8369ac16-d664-4aea-afd0-23213f595ee4",
        "listingId": "694a0e32-2bdd-4093-8620-0340cc30cd44"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:16:55.703Z] Message Sent {
        "conversationId": "bbe0a4e4-db03-4b70-b507-d74d7aa1a383",
        "senderId": "8369ac16-d664-4aea-afd0-23213f595ee4",
        "messageId": "7403319a-d06b-48d4-b8f6-5fee5e0c2880"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      User disconnected: J0Zf5KUwYaxX-XJcAAAG

      at Socket.<anonymous> (src/socket.ts:52:21)

    console.log
      User disconnected: H-6meZdsbJ89cSgdAAAH

      at Socket.<anonymous> (src/socket.ts:52:21)

    console.log
      User connected: f2T4J1jObYiot0qzAAAJ (User ID: 0b370c5c-c40b-44cb-aa65-89e46d651282)

      at Namespace.<anonymous> (src/socket.ts:34:21)

    console.log
      [INFO] [2026-01-04T01:16:55.900Z] Purchase Successful {
        "listingId": "8253c661-98f6-4227-9391-cb51257231b9",
        "buyerId": "8369ac16-d664-4aea-afd0-23213f595ee4"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      User disconnected: f2T4J1jObYiot0qzAAAJ

      at Socket.<anonymous> (src/socket.ts:52:21)

    console.log
      User connected: _WQDWJpUvr7wuXKxAAAL (User ID: 8369ac16-d664-4aea-afd0-23213f595ee4)

      at Namespace.<anonymous> (src/socket.ts:34:21)

    console.log
      User connected: 0wAP5cPeRHz28cIZAAAN (User ID: 0b370c5c-c40b-44cb-aa65-89e46d651282)

      at Namespace.<anonymous> (src/socket.ts:34:21)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "User disconnected: _WQDWJpUvr7wuXKxAAAL".

      50 |
      51 |         socket.on('disconnect', () => {
    > 52 |             console.log('User disconnected:', socket.id);
         |                     ^
      53 |         });
      54 |     });
      55 |

      at console.log (node_modules/@jest/console/build/index.js:147:10)
      at Socket.<anonymous> (src/socket.ts:52:21)
      at Socket.emitReserved (node_modules/socket.io/dist/typed-events.js:56:22)
      at Socket._onclose (node_modules/socket.io/dist/socket.js:554:14)
      at Socket.ondisconnect (node_modules/socket.io/dist/socket.js:513:14)
      at Socket._onpacket (node_modules/socket.io/dist/socket.js:442:22)
      at node_modules/socket.io/dist/client.js:207:24


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "User disconnected: 0wAP5cPeRHz28cIZAAAN".

      50 |
      51 |         socket.on('disconnect', () => {
    > 52 |             console.log('User disconnected:', socket.id);
         |                     ^
      53 |         });
      54 |     });
      55 |

      at console.log (node_modules/@jest/console/build/index.js:147:10)
      at Socket.<anonymous> (src/socket.ts:52:21)
      at Socket.emitReserved (node_modules/socket.io/dist/typed-events.js:56:22)
      at Socket._onclose (node_modules/socket.io/dist/socket.js:554:14)
      at Socket.ondisconnect (node_modules/socket.io/dist/socket.js:513:14)
      at Socket._onpacket (node_modules/socket.io/dist/socket.js:442:22)
      at node_modules/socket.io/dist/client.js:207:24

PASS tests/features.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: üîÑ add secrets lifecycle management: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üì° add observability to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîë add access controls to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

PASS tests/notifications.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: üì° add observability to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

PASS tests/analytics.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üë• sync secrets across teammates & machines: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.warn
      [WARN] [2026-01-04T01:17:03.209Z] CreateReport Validation Error [
        {
          "code": "invalid_value",
          "values": [
            "PROHIBITED_ITEM",
            "MISLEADING",
            "SCAM",
            "HARASSMENT",
            "INAPPROPRIATE_BEHAVIOR"
          ],
          "path": [
            "reason"
          ],
          "message": "Invalid option: expected one of \"PROHIBITED_ITEM\"|\"MISLEADING\"|\"SCAM\"|\"HARASSMENT\"|\"INAPPROPRIATE_BEHAVIOR\""
        },
        {
          "origin": "string",
          "code": "too_small",
          "minimum": 10,
          "inclusive": true,
          "path": [
            "description"
          ],
          "message": "Too small: expected string to have >=10 characters"
        }
      ]

       8 |     },
       9 |     warn: (message: string, context?: any) => {
    > 10 |         console.warn(`[WARN] [${new Date().toISOString()}] ${message}`, context ? JSON.stringify(context, null, 2) : '');
         |                 ^
      11 |     }
      12 | };
      13 |

      at Object.warn (src/utils/logger.ts:10:17)
      at handleControllerError (src/controllers/authController.ts:13:16)
      at createReport (src/controllers/reportController.ts:39:16)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/router/lib/route.js:117:3)
      at handle (node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at node_modules/router/index.js:295:15
      at param (node_modules/router/index.js:600:14)
      at param (node_modules/router/index.js:610:14)
      at processParams (node_modules/router/index.js:664:3)
      at next (node_modules/router/index.js:291:5)
      at protect (src/routes/authRoutes.ts:49:9)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/router/index.js:342:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Function.handle (node_modules/router/index.js:186:3)
      at router (node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/router/index.js:342:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/body-parser/lib/read.js:172:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

PASS tests/admin.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üì° add observability to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [INFO] [2026-01-04T01:17:05.548Z] Admin Dashboard Access {
        "adminId": "29e84cd5-7fd8-4d6c-8af9-ad64e1c4313c",
        "adminEmail": "admin@unn.edu.ng",
        "period": "last_30_days",
        "timestamp": "2026-01-04T01:17:05.548Z"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:05.801Z] Admin Dashboard Access {
        "adminId": "29e84cd5-7fd8-4d6c-8af9-ad64e1c4313c",
        "adminEmail": "admin@unn.edu.ng",
        "period": "last_7_days",
        "timestamp": "2026-01-04T01:17:05.801Z"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:05.887Z] Admin Dashboard Access {
        "adminId": "29e84cd5-7fd8-4d6c-8af9-ad64e1c4313c",
        "adminEmail": "admin@unn.edu.ng",
        "period": "last_30_days",
        "timestamp": "2026-01-04T01:17:05.887Z"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:05.888Z] Admin Dashboard - Serving from cache

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:05.903Z] Admin Dashboard Access {
        "adminId": "29e84cd5-7fd8-4d6c-8af9-ad64e1c4313c",
        "adminEmail": "admin@unn.edu.ng",
        "period": "last_30_days",
        "timestamp": "2026-01-04T01:17:05.903Z"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:05.904Z] Admin Dashboard - Serving from cache

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:05.984Z] Admin Dashboard Access {
        "adminId": "29e84cd5-7fd8-4d6c-8af9-ad64e1c4313c",
        "adminEmail": "admin@unn.edu.ng",
        "period": "last_30_days",
        "timestamp": "2026-01-04T01:17:05.984Z"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:05.984Z] Admin Dashboard - Serving from cache

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:05.988Z] Admin Dashboard Access {
        "adminId": "29e84cd5-7fd8-4d6c-8af9-ad64e1c4313c",
        "adminEmail": "admin@unn.edu.ng",
        "period": "last_30_days",
        "timestamp": "2026-01-04T01:17:05.987Z"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:05.989Z] Admin Dashboard - Serving from cache

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:05.992Z] Admin Dashboard Access {
        "adminId": "29e84cd5-7fd8-4d6c-8af9-ad64e1c4313c",
        "adminEmail": "admin@unn.edu.ng",
        "period": "last_30_days",
        "timestamp": "2026-01-04T01:17:05.992Z"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:05.993Z] Admin Dashboard - Serving from cache

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:05.996Z] Admin Dashboard Access {
        "adminId": "29e84cd5-7fd8-4d6c-8af9-ad64e1c4313c",
        "adminEmail": "admin@unn.edu.ng",
        "period": "last_30_days",
        "timestamp": "2026-01-04T01:17:05.996Z"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:05.997Z] Admin Dashboard - Serving from cache

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:05.999Z] Admin Dashboard Access {
        "adminId": "29e84cd5-7fd8-4d6c-8af9-ad64e1c4313c",
        "adminEmail": "admin@unn.edu.ng",
        "period": "last_30_days",
        "timestamp": "2026-01-04T01:17:05.999Z"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:05.999Z] Admin Dashboard - Serving from cache

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:06.001Z] Admin Dashboard Access {
        "adminId": "29e84cd5-7fd8-4d6c-8af9-ad64e1c4313c",
        "adminEmail": "admin@unn.edu.ng",
        "period": "last_30_days",
        "timestamp": "2026-01-04T01:17:06.001Z"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:06.002Z] Admin Dashboard - Serving from cache

      at Object.info (src/utils/logger.ts:3:17)

PASS tests/marketplace.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [INFO] [2026-01-04T01:17:08.044Z] Creating Listing {
        "sellerId": "91bb0ee4-6883-41d1-b300-d90cd8d1872b",
        "title": "Test Textbook"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:08.076Z] Listing Created Successfully {
        "listingId": "4f2a8daa-bd2c-4d72-9c7f-aab3d0a3503c"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.error
      [ERROR] [2026-01-04T01:17:08.123Z] CreateListing Controller Error [
        {
          "origin": "string",
          "code": "too_small",
          "minimum": 3,
          "inclusive": true,
          "path": [
            "title"
          ],
          "message": "Too small: expected string to have >=3 characters"
        },
        {
          "expected": "string",
          "code": "invalid_type",
          "path": [
            "description"
          ],
          "message": "Invalid input: expected string, received undefined"
        },
        {
          "expected": "string",
          "code": "invalid_type",
          "path": [
            "price"
          ],
          "message": "Invalid input: expected string, received undefined"
        },
        {
          "expected": "string",
          "code": "invalid_type",
          "path": [
            "category"
          ],
          "message": "Invalid input: expected string, received undefined"
        },
        {
          "code": "invalid_value",
          "values": [
            "NEW",
            "USED",
            "FAIR"
          ],
          "path": [
            "condition"
          ],
          "message": "Invalid option: expected one of \"NEW\"|\"USED\"|\"FAIR\""
        }
      ]

      4 |     },
      5 |     error: (message: string, error?: any) => {
    > 6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');
        |                 ^
      7 |         if (error?.stack) console.error(error.stack);
      8 |     },
      9 |     warn: (message: string, context?: any) => {

      at Object.error (src/utils/logger.ts:6:17)
      at handleControllerError (src/controllers/listingController.ts:10:12)
      at createListing (src/controllers/listingController.ts:51:16)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at multerMiddleware (node_modules/multer/lib/make-middleware.js:19:41)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at protect (src/routes/listingRoutes.ts:29:9)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/router/lib/route.js:117:3)
      at handle (node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at node_modules/router/index.js:295:15
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Function.handle (node_modules/router/index.js:186:3)
      at router (node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/router/index.js:342:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/body-parser/lib/read.js:172:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

    console.error
      ZodError: [
        {
          "origin": "string",
          "code": "too_small",
          "minimum": 3,
          "inclusive": true,
          "path": [
            "title"
          ],
          "message": "Too small: expected string to have >=3 characters"
        },
        {
          "expected": "string",
          "code": "invalid_type",
          "path": [
            "description"
          ],
          "message": "Invalid input: expected string, received undefined"
        },
        {
          "expected": "string",
          "code": "invalid_type",
          "path": [
            "price"
          ],
          "message": "Invalid input: expected string, received undefined"
        },
        {
          "expected": "string",
          "code": "invalid_type",
          "path": [
            "category"
          ],
          "message": "Invalid input: expected string, received undefined"
        },
        {
          "code": "invalid_value",
          "values": [
            "NEW",
            "USED",
            "FAIR"
          ],
          "path": [
            "condition"
          ],
          "message": "Invalid option: expected one of \"NEW\"|\"USED\"|\"FAIR\""
        }
      ]
          at createListing (/home/bytesage/campus-swap/backend/src/controllers/listingController.ts:22:51)
          at Layer.handleRequest (/home/bytesage/campus-swap/backend/node_modules/router/lib/layer.js:152:17)
          at next (/home/bytesage/campus-swap/backend/node_modules/router/lib/route.js:157:13)
          at multerMiddleware (/home/bytesage/campus-swap/backend/node_modules/multer/lib/make-middleware.js:19:41)
          at Layer.handleRequest (/home/bytesage/campus-swap/backend/node_modules/router/lib/layer.js:152:17)
          at next (/home/bytesage/campus-swap/backend/node_modules/router/lib/route.js:157:13)
          at protect (/home/bytesage/campus-swap/backend/src/routes/listingRoutes.ts:29:9)
          at Layer.handleRequest (/home/bytesage/campus-swap/backend/node_modules/router/lib/layer.js:152:17)
          at next (/home/bytesage/campus-swap/backend/node_modules/router/lib/route.js:157:13)
          at Route.dispatch (/home/bytesage/campus-swap/backend/node_modules/router/lib/route.js:117:3)
          at handle (/home/bytesage/campus-swap/backend/node_modules/router/index.js:435:11)
          at Layer.handleRequest (/home/bytesage/campus-swap/backend/node_modules/router/lib/layer.js:152:17)
          at /home/bytesage/campus-swap/backend/node_modules/router/index.js:295:15
          at processParams (/home/bytesage/campus-swap/backend/node_modules/router/index.js:582:12)
          at next (/home/bytesage/campus-swap/backend/node_modules/router/index.js:291:5)
          at Function.handle (/home/bytesage/campus-swap/backend/node_modules/router/index.js:186:3)
          at router (/home/bytesage/campus-swap/backend/node_modules/router/index.js:60:12)
          at Layer.handleRequest (/home/bytesage/campus-swap/backend/node_modules/router/lib/layer.js:152:17)
          at trimPrefix (/home/bytesage/campus-swap/backend/node_modules/router/index.js:342:13)
          at /home/bytesage/campus-swap/backend/node_modules/router/index.js:297:9
          at processParams (/home/bytesage/campus-swap/backend/node_modules/router/index.js:582:12)
          at next (/home/bytesage/campus-swap/backend/node_modules/router/index.js:291:5)
          at /home/bytesage/campus-swap/backend/node_modules/body-parser/lib/read.js:172:5
          at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
          at invokeCallback (/home/bytesage/campus-swap/backend/node_modules/raw-body/index.js:238:16)
          at done (/home/bytesage/campus-swap/backend/node_modules/raw-body/index.js:227:7)
          at IncomingMessage.onEnd (/home/bytesage/campus-swap/backend/node_modules/raw-body/index.js:287:7)
          at IncomingMessage.emit (node:events:519:28)
          at endReadableNT (node:internal/streams/readable:1698:12)
          at processTicksAndRejections (node:internal/process/task_queues:90:21)

       5 |     error: (message: string, error?: any) => {
       6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');
    >  7 |         if (error?.stack) console.error(error.stack);
         |                                   ^
       8 |     },
       9 |     warn: (message: string, context?: any) => {
      10 |         console.warn(`[WARN] [${new Date().toISOString()}] ${message}`, context ? JSON.stringify(context, null, 2) : '');

      at Object.error (src/utils/logger.ts:7:35)
      at handleControllerError (src/controllers/listingController.ts:10:12)
      at createListing (src/controllers/listingController.ts:51:16)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at multerMiddleware (node_modules/multer/lib/make-middleware.js:19:41)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at protect (src/routes/listingRoutes.ts:29:9)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/router/lib/route.js:117:3)
      at handle (node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at node_modules/router/index.js:295:15
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Function.handle (node_modules/router/index.js:186:3)
      at router (node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/router/index.js:342:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/body-parser/lib/read.js:172:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

    console.log
      [INFO] [2026-01-04T01:17:08.340Z] Listing Updated Successfully {
        "listingId": "4f2a8daa-bd2c-4d72-9c7f-aab3d0a3503c"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.warn
      [WARN] [2026-01-04T01:17:08.363Z] Unauthorized update attempt {
        "listingId": "4f2a8daa-bd2c-4d72-9c7f-aab3d0a3503c",
        "userId": "other-id"
      }

       8 |     },
       9 |     warn: (message: string, context?: any) => {
    > 10 |         console.warn(`[WARN] [${new Date().toISOString()}] ${message}`, context ? JSON.stringify(context, null, 2) : '');
         |                 ^
      11 |     }
      12 | };
      13 |

      at Object.warn (src/utils/logger.ts:10:17)
      at updateListing (src/controllers/listingController.ts:102:20)

    console.log
      [INFO] [2026-01-04T01:17:08.418Z] Listing Deleted Successfully {
        "listingId": "4f2a8daa-bd2c-4d72-9c7f-aab3d0a3503c"
      }

      at Object.info (src/utils/logger.ts:3:17)

PASS tests/uploads.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîÑ add secrets lifecycle management: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [INFO] [2026-01-04T01:17:10.273Z] Creating Listing {
        "sellerId": "7c4a4e14-b27b-4403-91b7-df1da5dcb602",
        "title": "Textbook with Real Image"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:10.312Z] Listing Created Successfully {
        "listingId": "785a94a2-d25e-47bb-8347-7fe8f1ca7b87"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:10.356Z] ID Documents Uploaded {
        "userId": "7c4a4e14-b27b-4403-91b7-df1da5dcb602",
        "verificationId": "a01c6804-ff89-4276-afca-2380ae59c61e"
      }

      at Object.info (src/utils/logger.ts:3:17)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "[INFO] [2026-01-04T01:17:12.562Z] Processing Bulk Operation 5dba82f3-2447-49ff-88a4-85cfb63b35b8 of type BULK_CREATE ".

      1 | const logger = {
      2 |     info: (message: string, context?: any) => {
    > 3 |         console.log(`[INFO] [${new Date().toISOString()}] ${message}`, context ? JSON.stringify(context, null, 2) : '');
        |                 ^
      4 |     },
      5 |     error: (message: string, error?: any) => {
      6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');

      at console.log (node_modules/@jest/console/build/index.js:147:10)
      at Object.info (src/utils/logger.ts:3:17)
      at Worker.connection [as processFn] (src/services/queueService.ts:32:12)
      at Worker.callProcessJob (node_modules/bullmq/src/classes/worker.ts:433:17)
      at node_modules/bullmq/src/classes/worker.ts:990:37
      at trace (node_modules/bullmq/src/utils/index.ts:345:12)
      at Worker.trace (node_modules/bullmq/src/classes/queue-base.ts:204:17)
      at Worker.processJob (node_modules/bullmq/src/classes/worker.ts:943:17)
      at Worker.mainLoop (node_modules/bullmq/src/classes/worker.ts:640:16)
      at Worker.run (node_modules/bullmq/src/classes/worker.ts:551:7)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "[ERROR] [2026-01-04T01:17:12.597Z] Bulk Operation 5dba82f3-2447-49ff-88a4-85cfb63b35b8 FAILED Cannot use a pool after calling end on the pool".

      4 |     },
      5 |     error: (message: string, error?: any) => {
    > 6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');
        |                 ^
      7 |         if (error?.stack) console.error(error.stack);
      8 |     },
      9 |     warn: (message: string, context?: any) => {

      at console.error (node_modules/@jest/console/build/index.js:124:10)
      at Object.error (src/utils/logger.ts:6:17)
      at Worker.connection [as processFn] (src/services/queueService.ts:83:16)
      at node_modules/bullmq/src/classes/worker.ts:990:26


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "[ERROR] [2026-01-04T01:17:12.626Z] Job 184 failed with Cannot use a pool after calling end on the pool ".

      4 |     },
      5 |     error: (message: string, error?: any) => {
    > 6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');
        |                 ^
      7 |         if (error?.stack) console.error(error.stack);
      8 |     },
      9 |     warn: (message: string, context?: any) => {

      at console.error (node_modules/@jest/console/build/index.js:124:10)
      at Object.error (src/utils/logger.ts:6:17)
      at Worker.<anonymous> (src/services/queueService.ts:101:12)
      at Worker.emit (node_modules/bullmq/src/classes/queue-base.ts:123:20)
      at Worker.emit (node_modules/bullmq/src/classes/worker.ts:401:18)
      at Worker.handleFailed (node_modules/bullmq/src/classes/worker.ts:1125:12)
      at Worker.retryIfFailed (node_modules/bullmq/src/classes/worker.ts:1360:16)
      at node_modules/bullmq/src/classes/worker.ts:1015:26


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "[INFO] [2026-01-04T01:17:12.687Z] Processing Bulk Operation 212a3a01-2797-4631-881d-6eae36a55001 of type BULK_RENEW ".

      1 | const logger = {
      2 |     info: (message: string, context?: any) => {
    > 3 |         console.log(`[INFO] [${new Date().toISOString()}] ${message}`, context ? JSON.stringify(context, null, 2) : '');
        |                 ^
      4 |     },
      5 |     error: (message: string, error?: any) => {
      6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');

      at console.log (node_modules/@jest/console/build/index.js:147:10)
      at Object.info (src/utils/logger.ts:3:17)
      at Worker.connection [as processFn] (src/services/queueService.ts:32:12)
      at Worker.callProcessJob (node_modules/bullmq/src/classes/worker.ts:433:17)
      at node_modules/bullmq/src/classes/worker.ts:990:37
      at trace (node_modules/bullmq/src/utils/index.ts:345:12)
      at Worker.trace (node_modules/bullmq/src/classes/queue-base.ts:204:17)
      at Worker.processJob (node_modules/bullmq/src/classes/worker.ts:943:17)
      at Worker.mainLoop (node_modules/bullmq/src/classes/worker.ts:640:16)
      at Worker.run (node_modules/bullmq/src/classes/worker.ts:551:7)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "[ERROR] [2026-01-04T01:17:12.710Z] Bulk Operation 212a3a01-2797-4631-881d-6eae36a55001 FAILED Cannot use a pool after calling end on the pool".

      4 |     },
      5 |     error: (message: string, error?: any) => {
    > 6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');
        |                 ^
      7 |         if (error?.stack) console.error(error.stack);
      8 |     },
      9 |     warn: (message: string, context?: any) => {

      at console.error (node_modules/@jest/console/build/index.js:124:10)
      at Object.error (src/utils/logger.ts:6:17)
      at Worker.connection [as processFn] (src/services/queueService.ts:83:16)
      at node_modules/bullmq/src/classes/worker.ts:990:26


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "[ERROR] [2026-01-04T01:17:12.725Z] Job 185 failed with Cannot use a pool after calling end on the pool ".

      4 |     },
      5 |     error: (message: string, error?: any) => {
    > 6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');
        |                 ^
      7 |         if (error?.stack) console.error(error.stack);
      8 |     },
      9 |     warn: (message: string, context?: any) => {

      at console.error (node_modules/@jest/console/build/index.js:124:10)
      at Object.error (src/utils/logger.ts:6:17)
      at Worker.<anonymous> (src/services/queueService.ts:101:12)
      at Worker.emit (node_modules/bullmq/src/classes/queue-base.ts:123:20)
      at Worker.emit (node_modules/bullmq/src/classes/worker.ts:401:18)
      at Worker.handleFailed (node_modules/bullmq/src/classes/worker.ts:1125:12)
      at Worker.retryIfFailed (node_modules/bullmq/src/classes/worker.ts:1360:16)
      at node_modules/bullmq/src/classes/worker.ts:1015:26


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "[INFO] [2026-01-04T01:17:12.844Z] Processing Bulk Operation 5db804ef-399c-4e99-a764-a1756c48b857 of type BULK_MESSAGE ".

      1 | const logger = {
      2 |     info: (message: string, context?: any) => {
    > 3 |         console.log(`[INFO] [${new Date().toISOString()}] ${message}`, context ? JSON.stringify(context, null, 2) : '');
        |                 ^
      4 |     },
      5 |     error: (message: string, error?: any) => {
      6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');

      at console.log (node_modules/@jest/console/build/index.js:147:10)
      at Object.info (src/utils/logger.ts:3:17)
      at Worker.connection [as processFn] (src/services/queueService.ts:32:12)
      at Worker.callProcessJob (node_modules/bullmq/src/classes/worker.ts:433:17)
      at node_modules/bullmq/src/classes/worker.ts:990:37
      at trace (node_modules/bullmq/src/utils/index.ts:345:12)
      at Worker.trace (node_modules/bullmq/src/classes/queue-base.ts:204:17)
      at Worker.processJob (node_modules/bullmq/src/classes/worker.ts:943:17)
      at Worker.mainLoop (node_modules/bullmq/src/classes/worker.ts:640:16)
      at Worker.run (node_modules/bullmq/src/classes/worker.ts:551:7)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "[ERROR] [2026-01-04T01:17:12.881Z] Bulk Operation 5db804ef-399c-4e99-a764-a1756c48b857 FAILED Cannot use a pool after calling end on the pool".

      4 |     },
      5 |     error: (message: string, error?: any) => {
    > 6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');
        |                 ^
      7 |         if (error?.stack) console.error(error.stack);
      8 |     },
      9 |     warn: (message: string, context?: any) => {

      at console.error (node_modules/@jest/console/build/index.js:124:10)
      at Object.error (src/utils/logger.ts:6:17)
      at Worker.connection [as processFn] (src/services/queueService.ts:83:16)
      at node_modules/bullmq/src/classes/worker.ts:990:26


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "[ERROR] [2026-01-04T01:17:12.897Z] Job 187 failed with Cannot use a pool after calling end on the pool ".

      4 |     },
      5 |     error: (message: string, error?: any) => {
    > 6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');
        |                 ^
      7 |         if (error?.stack) console.error(error.stack);
      8 |     },
      9 |     warn: (message: string, context?: any) => {

      at console.error (node_modules/@jest/console/build/index.js:124:10)
      at Object.error (src/utils/logger.ts:6:17)
      at Worker.<anonymous> (src/services/queueService.ts:101:12)
      at Worker.emit (node_modules/bullmq/src/classes/queue-base.ts:123:20)
      at Worker.emit (node_modules/bullmq/src/classes/worker.ts:401:18)
      at Worker.handleFailed (node_modules/bullmq/src/classes/worker.ts:1125:12)
      at Worker.retryIfFailed (node_modules/bullmq/src/classes/worker.ts:1360:16)
      at node_modules/bullmq/src/classes/worker.ts:1015:26


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "[INFO] [2026-01-04T01:17:12.941Z] Processing Bulk Operation aa0152c9-9d4c-4332-89fc-4a696c3300cd of type EXPORT ".

      1 | const logger = {
      2 |     info: (message: string, context?: any) => {
    > 3 |         console.log(`[INFO] [${new Date().toISOString()}] ${message}`, context ? JSON.stringify(context, null, 2) : '');
        |                 ^
      4 |     },
      5 |     error: (message: string, error?: any) => {
      6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');

      at console.log (node_modules/@jest/console/build/index.js:147:10)
      at Object.info (src/utils/logger.ts:3:17)
      at Worker.connection [as processFn] (src/services/queueService.ts:32:12)
      at Worker.callProcessJob (node_modules/bullmq/src/classes/worker.ts:433:17)
      at node_modules/bullmq/src/classes/worker.ts:990:37
      at trace (node_modules/bullmq/src/utils/index.ts:345:12)
      at Worker.trace (node_modules/bullmq/src/classes/queue-base.ts:204:17)
      at Worker.processJob (node_modules/bullmq/src/classes/worker.ts:943:17)
      at Worker.mainLoop (node_modules/bullmq/src/classes/worker.ts:640:16)
      at Worker.run (node_modules/bullmq/src/classes/worker.ts:551:7)


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "[ERROR] [2026-01-04T01:17:13.023Z] Bulk Operation aa0152c9-9d4c-4332-89fc-4a696c3300cd FAILED Cannot use a pool after calling end on the pool".

      4 |     },
      5 |     error: (message: string, error?: any) => {
    > 6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');
        |                 ^
      7 |         if (error?.stack) console.error(error.stack);
      8 |     },
      9 |     warn: (message: string, context?: any) => {

      at console.error (node_modules/@jest/console/build/index.js:124:10)
      at Object.error (src/utils/logger.ts:6:17)
      at Worker.connection [as processFn] (src/services/queueService.ts:83:16)
      at node_modules/bullmq/src/classes/worker.ts:990:26


  ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?
    Attempted to log "[ERROR] [2026-01-04T01:17:13.075Z] Job 188 failed with Cannot use a pool after calling end on the pool ".

      4 |     },
      5 |     error: (message: string, error?: any) => {
    > 6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');
        |                 ^
      7 |         if (error?.stack) console.error(error.stack);
      8 |     },
      9 |     warn: (message: string, context?: any) => {

      at console.error (node_modules/@jest/console/build/index.js:124:10)
      at Object.error (src/utils/logger.ts:6:17)
      at Worker.<anonymous> (src/services/queueService.ts:101:12)
      at Worker.emit (node_modules/bullmq/src/classes/queue-base.ts:123:20)
      at Worker.emit (node_modules/bullmq/src/classes/worker.ts:401:18)
      at Worker.handleFailed (node_modules/bullmq/src/classes/worker.ts:1125:12)
      at Worker.retryIfFailed (node_modules/bullmq/src/classes/worker.ts:1360:16)
      at node_modules/bullmq/src/classes/worker.ts:1015:26

PASS tests/bulk_operations.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üóÇÔ∏è backup and recover secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

PASS tests/review.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: üîÑ add secrets lifecycle management: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [INFO] [2026-01-04T01:17:15.739Z] Review Submitted {
        "reviewerId": "03bd2cc8-016a-4f2b-8fd7-ad7975dbde98",
        "targetId": "55259abd-4e67-4529-9673-6ff81e65f6bc",
        "rating": 5
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.error
      [ERROR] [2026-01-04T01:17:15.759Z] SubmitReview Controller Error [
        {
          "origin": "number",
          "code": "too_big",
          "maximum": 5,
          "inclusive": true,
          "path": [
            "rating"
          ],
          "message": "Too big: expected number to be <=5"
        }
      ]

      4 |     },
      5 |     error: (message: string, error?: any) => {
    > 6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');
        |                 ^
      7 |         if (error?.stack) console.error(error.stack);
      8 |     },
      9 |     warn: (message: string, context?: any) => {

      at Object.error (src/utils/logger.ts:6:17)
      at handleControllerError (src/controllers/reviewController.ts:8:12)
      at submitReview (src/controllers/reviewController.ts:46:16)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at protect (src/routes/reviewRoutes.ts:17:9)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/router/lib/route.js:117:3)
      at handle (node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at node_modules/router/index.js:295:15
      at param (node_modules/router/index.js:600:14)
      at param (node_modules/router/index.js:610:14)
      at processParams (node_modules/router/index.js:664:3)
      at next (node_modules/router/index.js:291:5)
      at Function.handle (node_modules/router/index.js:186:3)
      at router (node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/router/index.js:342:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/router/index.js:688:15
      at next (node_modules/router/index.js:276:14)
      at protect (src/routes/authRoutes.ts:49:9)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/router/index.js:342:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Function.handle (node_modules/router/index.js:186:3)
      at router (node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/router/index.js:342:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/body-parser/lib/read.js:172:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

    console.error
      ZodError: [
        {
          "origin": "number",
          "code": "too_big",
          "maximum": 5,
          "inclusive": true,
          "path": [
            "rating"
          ],
          "message": "Too big: expected number to be <=5"
        }
      ]
          at submitReview (/home/bytesage/campus-swap/backend/src/controllers/reviewController.ts:23:50)
          at Layer.handleRequest (/home/bytesage/campus-swap/backend/node_modules/router/lib/layer.js:152:17)
          at next (/home/bytesage/campus-swap/backend/node_modules/router/lib/route.js:157:13)
          at protect (/home/bytesage/campus-swap/backend/src/routes/reviewRoutes.ts:17:9)
          at Layer.handleRequest (/home/bytesage/campus-swap/backend/node_modules/router/lib/layer.js:152:17)
          at next (/home/bytesage/campus-swap/backend/node_modules/router/lib/route.js:157:13)
          at Route.dispatch (/home/bytesage/campus-swap/backend/node_modules/router/lib/route.js:117:3)
          at handle (/home/bytesage/campus-swap/backend/node_modules/router/index.js:435:11)
          at Layer.handleRequest (/home/bytesage/campus-swap/backend/node_modules/router/lib/layer.js:152:17)
          at /home/bytesage/campus-swap/backend/node_modules/router/index.js:295:15
          at param (/home/bytesage/campus-swap/backend/node_modules/router/index.js:600:14)
          at param (/home/bytesage/campus-swap/backend/node_modules/router/index.js:610:14)
          at processParams (/home/bytesage/campus-swap/backend/node_modules/router/index.js:664:3)
          at next (/home/bytesage/campus-swap/backend/node_modules/router/index.js:291:5)
          at Function.handle (/home/bytesage/campus-swap/backend/node_modules/router/index.js:186:3)
          at router (/home/bytesage/campus-swap/backend/node_modules/router/index.js:60:12)
          at Layer.handleRequest (/home/bytesage/campus-swap/backend/node_modules/router/lib/layer.js:152:17)
          at trimPrefix (/home/bytesage/campus-swap/backend/node_modules/router/index.js:342:13)
          at /home/bytesage/campus-swap/backend/node_modules/router/index.js:297:9
          at processParams (/home/bytesage/campus-swap/backend/node_modules/router/index.js:582:12)
          at next (/home/bytesage/campus-swap/backend/node_modules/router/index.js:291:5)
          at /home/bytesage/campus-swap/backend/node_modules/router/index.js:688:15
          at next (/home/bytesage/campus-swap/backend/node_modules/router/index.js:276:14)
          at protect (/home/bytesage/campus-swap/backend/src/routes/authRoutes.ts:49:9)
          at Layer.handleRequest (/home/bytesage/campus-swap/backend/node_modules/router/lib/layer.js:152:17)
          at trimPrefix (/home/bytesage/campus-swap/backend/node_modules/router/index.js:342:13)
          at /home/bytesage/campus-swap/backend/node_modules/router/index.js:297:9
          at processParams (/home/bytesage/campus-swap/backend/node_modules/router/index.js:582:12)
          at next (/home/bytesage/campus-swap/backend/node_modules/router/index.js:291:5)
          at Function.handle (/home/bytesage/campus-swap/backend/node_modules/router/index.js:186:3)
          at router (/home/bytesage/campus-swap/backend/node_modules/router/index.js:60:12)
          at Layer.handleRequest (/home/bytesage/campus-swap/backend/node_modules/router/lib/layer.js:152:17)
          at trimPrefix (/home/bytesage/campus-swap/backend/node_modules/router/index.js:342:13)
          at /home/bytesage/campus-swap/backend/node_modules/router/index.js:297:9
          at processParams (/home/bytesage/campus-swap/backend/node_modules/router/index.js:582:12)
          at next (/home/bytesage/campus-swap/backend/node_modules/router/index.js:291:5)
          at /home/bytesage/campus-swap/backend/node_modules/body-parser/lib/read.js:172:5
          at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
          at invokeCallback (/home/bytesage/campus-swap/backend/node_modules/raw-body/index.js:238:16)
          at done (/home/bytesage/campus-swap/backend/node_modules/raw-body/index.js:227:7)
          at IncomingMessage.onEnd (/home/bytesage/campus-swap/backend/node_modules/raw-body/index.js:287:7)
          at IncomingMessage.emit (node:events:519:28)
          at endReadableNT (node:internal/streams/readable:1698:12)
          at processTicksAndRejections (node:internal/process/task_queues:90:21)

       5 |     error: (message: string, error?: any) => {
       6 |         console.error(`[ERROR] [${new Date().toISOString()}] ${message}`, error?.message || error || '');
    >  7 |         if (error?.stack) console.error(error.stack);
         |                                   ^
       8 |     },
       9 |     warn: (message: string, context?: any) => {
      10 |         console.warn(`[WARN] [${new Date().toISOString()}] ${message}`, context ? JSON.stringify(context, null, 2) : '');

      at Object.error (src/utils/logger.ts:7:35)
      at handleControllerError (src/controllers/reviewController.ts:8:12)
      at submitReview (src/controllers/reviewController.ts:46:16)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at protect (src/routes/reviewRoutes.ts:17:9)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/router/lib/route.js:117:3)
      at handle (node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at node_modules/router/index.js:295:15
      at param (node_modules/router/index.js:600:14)
      at param (node_modules/router/index.js:610:14)
      at processParams (node_modules/router/index.js:664:3)
      at next (node_modules/router/index.js:291:5)
      at Function.handle (node_modules/router/index.js:186:3)
      at router (node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/router/index.js:342:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/router/index.js:688:15
      at next (node_modules/router/index.js:276:14)
      at protect (src/routes/authRoutes.ts:49:9)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/router/index.js:342:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Function.handle (node_modules/router/index.js:186:3)
      at router (node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/router/index.js:342:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/body-parser/lib/read.js:172:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

PASS tests/analytics_enhanced.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: üë• sync secrets across teammates & machines: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

PASS tests/platform_analytics.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`

      at _log (node_modules/dotenv/lib/main.js:142:11)

PASS tests/verification.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üì° add observability to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [INFO] [2026-01-04T01:17:20.685Z] ID Documents Uploaded {
        "userId": "4f9f4395-353f-4ff5-95ac-854b1b1679d2",
        "verificationId": "cb08d62d-2966-4ec4-8bc0-40258f14bc3b"
      }

      at Object.info (src/utils/logger.ts:3:17)

PASS tests/escrow.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîë add access controls to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

PASS tests/moderation.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

PASS tests/marketplace_interaction.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [INFO] [2026-01-04T01:17:25.548Z] Purchase Successful {
        "listingId": "234f5752-b4a3-4862-b193-c1a534ec963d",
        "buyerId": "70bd2fb7-8bcb-474f-8e97-7b23a01e1bb0"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:25.647Z] Listing Status Updated {
        "listingId": "a6a59543-ce11-457e-9565-7000acbce941",
        "status": "RESERVED"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:25.714Z] Listing Reserved {
        "listingId": "11a8ba96-3e9e-4ac9-9789-005c923e97c4",
        "reservedBy": "70bd2fb7-8bcb-474f-8e97-7b23a01e1bb0"
      }

      at Object.info (src/utils/logger.ts:3:17)

PASS tests/admin_users.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîë add access controls to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

PASS tests/preferences.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [INFO] [2026-01-04T01:17:28.785Z] Theme Preferences Updated {
        "userId": "cf4a3a63-23aa-44e4-b6b3-4761e345d904",
        "themeMode": "DARK"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:28.818Z] Theme Preferences Updated {
        "userId": "cf4a3a63-23aa-44e4-b6b3-4761e345d904",
        "themeMode": "DARK"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.warn
      [WARN] [2026-01-04T01:17:28.834Z] UpdateTheme Validation Error [
        {
          "origin": "string",
          "code": "invalid_format",
          "format": "regex",
          "pattern": "/^#[0-9A-F]{6}$/i",
          "path": [
            "accentColor"
          ],
          "message": "Invalid hex color"
        }
      ]

       8 |     },
       9 |     warn: (message: string, context?: any) => {
    > 10 |         console.warn(`[WARN] [${new Date().toISOString()}] ${message}`, context ? JSON.stringify(context, null, 2) : '');
         |                 ^
      11 |     }
      12 | };
      13 |

      at Object.warn (src/utils/logger.ts:10:17)
      at handleControllerError (src/controllers/authController.ts:13:16)
      at updateTheme (src/controllers/preferenceController.ts:56:16)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at protect (src/routes/authRoutes.ts:49:9)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at next (node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/router/lib/route.js:117:3)
      at handle (node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at node_modules/router/index.js:295:15
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at Function.handle (node_modules/router/index.js:186:3)
      at router (node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/router/index.js:342:13)
      at node_modules/router/index.js:297:9
      at processParams (node_modules/router/index.js:582:12)
      at next (node_modules/router/index.js:291:5)
      at node_modules/body-parser/lib/read.js:172:5
      at invokeCallback (node_modules/raw-body/index.js:238:16)
      at done (node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/raw-body/index.js:287:7)

PASS tests/saved_items.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîÑ add secrets lifecycle management: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [INFO] [2026-01-04T01:17:30.315Z] Listing Saved {
        "userId": "7f4152f0-616b-407a-9e4c-f7a4a181bd48",
        "listingId": "19d4d273-2de5-4627-aabf-3dc6b8da0739"
      }

      at Object.info (src/utils/logger.ts:3:17)

    console.log
      [INFO] [2026-01-04T01:17:30.451Z] Listing Unsaved {
        "userId": "7f4152f0-616b-407a-9e4c-f7a4a181bd48",
        "listingId": "19d4d273-2de5-4627-aabf-3dc6b8da0739"
      }

      at Object.info (src/utils/logger.ts:3:17)

PASS tests/release.test.ts
  ‚óè Console

    console.log
      [dotenv@17.2.3] injecting env (6) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîë add access controls to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

    console.log
      [dotenv@17.2.3] injecting env (0) from .env -- tip: üîë add access controls to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)


Test Suites: 22 passed, 22 total
Tests:       108 passed, 108 total
Snapshots:   0 total
Time:        51.676 s
Ran all test suites.
Jest did not exit one second after the test run has completed.

'This usually means that there are asynchronous operations that weren't stopped in your tests. Consider running Jest with `--detectOpenHandles` to troubleshoot this issue.
