{
    "openapi": "3.0.0",
    "info": {
        "title": "Campus Swap API",
        "description": "Comprehensive API for the Campus Swap e-commerce platform, serving university students for buying, selling, and trading within their campus ecosystem. Includes features for escrow, bulk operations, advanced analytics, and moderation.",
        "version": "1.0.0",
        "contact": {
            "name": "Campus Swap Engineering",
            "email": "support@campusswap.com"
        }
    },
    "servers": [
        {
            "url": "http://localhost:3001/api",
            "description": "Local development server"
        }
    ],
    "x-web-socket": {
        "description": "Real-time communication via Socket.io",
        "authentication": "JWT token passed in the 'auth' handshake object: { token: 'JWT_HERE' }",
        "rooms": [
            "user_{userId}: Private room for individual user notifications and direct messages.",
            "admin_room: Room for administrative updates (only authorized for ADMIN roles).",
            "conversation_{conversationId}: Room for active participants in a specific chat."
        ],
        "events": {
            "new_message": {
                "description": "Emitted to conversation rooms when a new message is sent.",
                "payload": "Message object"
            },
            "message_notification": {
                "description": "Emitted to user rooms to notify of new messages in any conversation.",
                "payload": "{ conversationId, senderId, content, title }"
            },
            "new_notification": {
                "description": "Emitted to user rooms for alerts, transactions, and system updates.",
                "payload": "Notification object"
            },
            "contract_updated": {
                "description": "Emitted to party user rooms when an escrow contract status changes.",
                "payload": "SmartContract object"
            },
            "users_updated": {
                "description": "Emitted to admin_room when users are bulk-updated.",
                "payload": "{ action, count, userIds }"
            }
        }
    },
    "components": {
        "securitySchemes": {
            "BearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT"
            }
        },
        "schemas": {
            "User": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "email": {
                        "type": "string",
                        "format": "email"
                    },
                    "fullName": {
                        "type": "string",
                        "nullable": true
                    },
                    "phoneNumber": {
                        "type": "string",
                        "nullable": true
                    },
                    "faculty": {
                        "type": "string",
                        "nullable": true
                    },
                    "department": {
                        "type": "string",
                        "nullable": true
                    },
                    "academicLevel": {
                        "type": "string",
                        "nullable": true
                    },
                    "residenceArea": {
                        "type": "string",
                        "nullable": true
                    },
                    "isVerified": {
                        "type": "boolean"
                    },
                    "verificationLevel": {
                        "type": "string",
                        "enum": [
                            "BASIC",
                            "VERIFIED",
                            "PREMIUM_VERIFIED"
                        ]
                    },
                    "avatarUrl": {
                        "type": "string",
                        "format": "uri",
                        "nullable": true
                    },
                    "role": {
                        "type": "string",
                        "enum": [
                            "USER",
                            "ADMIN",
                            "SUPER_ADMIN"
                        ]
                    },
                    "trustScore": {
                        "type": "number"
                    },
                    "riskScore": {
                        "type": "number"
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "Listing": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "sellerId": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "title": {
                        "type": "string"
                    },
                    "description": {
                        "type": "string"
                    },
                    "price": {
                        "type": "number"
                    },
                    "category": {
                        "type": "string"
                    },
                    "condition": {
                        "type": "string",
                        "enum": [
                            "NEW",
                            "USED",
                            "FAIR"
                        ]
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "DRAFT",
                            "ACTIVE",
                            "RESERVED",
                            "SOLD",
                            "ARCHIVED"
                        ]
                    },
                    "faculty": {
                        "type": "string",
                        "nullable": true
                    },
                    "department": {
                        "type": "string",
                        "nullable": true
                    },
                    "images": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/ListingImage"
                        }
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "ListingImage": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "url": {
                        "type": "string",
                        "format": "uri"
                    },
                    "isPrimary": {
                        "type": "boolean"
                    }
                }
            },
            "Wallet": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "userId": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "balance": {
                        "type": "number"
                    },
                    "reservedBalance": {
                        "type": "number"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "Transaction": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "walletId": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "amount": {
                        "type": "number"
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "DEPOSIT",
                            "PURCHASE",
                            "SALE",
                            "WITHDRAWAL",
                            "ESCROW_HOLD"
                        ]
                    },
                    "status": {
                        "type": "string"
                    },
                    "reference": {
                        "type": "string",
                        "nullable": true
                    },
                    "description": {
                        "type": "string",
                        "nullable": true
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "Withdrawal": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "amount": {
                        "type": "number"
                    },
                    "bankCode": {
                        "type": "string"
                    },
                    "accountNumber": {
                        "type": "string"
                    },
                    "accountName": {
                        "type": "string"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "PENDING",
                            "PROCESSING",
                            "COMPLETED",
                            "FAILED",
                            "CANCELLED"
                        ]
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "Notification": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "type": {
                        "type": "string",
                        "enum": [
                            "MESSAGE",
                            "TRANSACTION",
                            "SYSTEM",
                            "PRICE_ALERT"
                        ]
                    },
                    "title": {
                        "type": "string"
                    },
                    "body": {
                        "type": "string"
                    },
                    "isRead": {
                        "type": "boolean"
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "Review": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "rating": {
                        "type": "integer",
                        "minimum": 1,
                        "maximum": 5
                    },
                    "comment": {
                        "type": "string",
                        "nullable": true
                    },
                    "reviewerId": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "targetId": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "createdAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "SmartContract": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "buyerId": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "sellerId": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "listingId": {
                        "type": "string",
                        "format": "uuid"
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "CREATED",
                            "SIGNED",
                            "FUNDED",
                            "ACTIVE",
                            "COMPLETED",
                            "DISPUTED",
                            "CANCELLED"
                        ]
                    },
                    "terms": {
                        "type": "object"
                    },
                    "state": {
                        "type": "object"
                    },
                    "updatedAt": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            },
            "ErrorResponse": {
                "type": "object",
                "properties": {
                    "message": {
                        "type": "string"
                    },
                    "errors": {
                        "type": "array",
                        "items": {
                            "type": "object"
                        },
                        "nullable": true
                    }
                }
            }
        }
    },
    "paths": {
        "/auth/register": {
            "post": {
                "summary": "Register a new user",
                "tags": [
                    "Auth"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "email",
                                    "password",
                                    "fullName",
                                    "phoneNumber",
                                    "faculty"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "password": {
                                        "type": "string",
                                        "minLength": 8
                                    },
                                    "fullName": {
                                        "type": "string",
                                        "minLength": 2
                                    },
                                    "phoneNumber": {
                                        "type": "string"
                                    },
                                    "faculty": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "User created"
                    },
                    "400": {
                        "description": "Invalid input"
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "summary": "User login",
                "tags": [
                    "Auth"
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "password": {
                                        "type": "string"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login success"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                }
            }
        },
        "/auth/profile": {
            "get": {
                "summary": "Get profile",
                "tags": [
                    "Auth"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Profile data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/User"
                                }
                            }
                        }
                    }
                }
            },
            "patch": {
                "summary": "Update profile",
                "tags": [
                    "Auth"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "fullName": {
                                        "type": "string"
                                    },
                                    "phoneNumber": {
                                        "type": "string"
                                    },
                                    "academicLevel": {
                                        "type": "string"
                                    },
                                    "avatar": {
                                        "type": "string",
                                        "format": "binary"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Profile updated"
                    }
                }
            }
        },
        "/listings": {
            "get": {
                "summary": "List all listings",
                "tags": [
                    "Listings"
                ],
                "parameters": [
                    {
                        "name": "category",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "faculty",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Array of listings",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Listing"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "summary": "Create listing",
                "tags": [
                    "Listings"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "title",
                                    "description",
                                    "price",
                                    "category",
                                    "condition"
                                ],
                                "properties": {
                                    "title": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "price": {
                                        "type": "number"
                                    },
                                    "category": {
                                        "type": "string"
                                    },
                                    "condition": {
                                        "type": "string"
                                    },
                                    "images": {
                                        "type": "array",
                                        "items": {
                                            "type": "string",
                                            "format": "binary"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Listing created"
                    }
                }
            }
        },
        "/listings/search": {
            "get": {
                "summary": "Search listings",
                "tags": [
                    "Listings"
                ],
                "parameters": [
                    {
                        "name": "q",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Search results"
                    }
                }
            }
        },
        "/listings/{id}": {
            "get": {
                "summary": "Get listing",
                "tags": [
                    "Listings"
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listing data"
                    }
                }
            },
            "patch": {
                "summary": "Update listing",
                "tags": [
                    "Listings"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Updated"
                    }
                }
            },
            "delete": {
                "summary": "Delete listing",
                "tags": [
                    "Listings"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Deleted"
                    }
                }
            }
        },
        "/listings/{id}/purchase": {
            "post": {
                "summary": "Purchase item",
                "tags": [
                    "Listings"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "paymentMethod"
                                ],
                                "properties": {
                                    "paymentMethod": {
                                        "type": "string",
                                        "enum": [
                                            "WALLET",
                                            "PAYSTACK_DIRECT"
                                        ]
                                    },
                                    "useEscrow": {
                                        "type": "boolean"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Purchase success"
                    }
                }
            }
        },
        "/listings/{id}/status": {
            "patch": {
                "summary": "Update listing status",
                "tags": [
                    "Listings"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Status updated"
                    }
                }
            }
        },
        "/listings/{id}/reserve": {
            "post": {
                "summary": "Reserve listing",
                "tags": [
                    "Listings"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Reserved"
                    }
                }
            }
        },
        "/listings/{id}/save": {
            "post": {
                "summary": "Save to watchlist",
                "tags": [
                    "Watchlist"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Saved"
                    }
                }
            },
            "delete": {
                "summary": "Remove from watchlist",
                "tags": [
                    "Watchlist"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "204": {
                        "description": "Removed"
                    }
                }
            }
        },
        "/payment/deposit": {
            "post": {
                "summary": "Initialize deposit",
                "tags": [
                    "Payment"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Initialized"
                    }
                }
            }
        },
        "/payment/webhook": {
            "post": {
                "summary": "Payment webhook",
                "tags": [
                    "Payment"
                ],
                "responses": {
                    "200": {
                        "description": "Event processed"
                    }
                }
            }
        },
        "/wallet/balance": {
            "get": {
                "summary": "Get balance",
                "tags": [
                    "Wallet"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Balance data"
                    }
                }
            }
        },
        "/wallet/transactions": {
            "get": {
                "summary": "Get transactions",
                "tags": [
                    "Wallet"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Transaction list"
                    }
                }
            }
        },
        "/wallet/pin/setup": {
            "post": {
                "summary": "Setup PIN",
                "tags": [
                    "Wallet"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "PIN set"
                    }
                }
            }
        },
        "/wallet/pin/verify": {
            "post": {
                "summary": "Verify PIN",
                "tags": [
                    "Wallet"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "PIN verified"
                    }
                }
            }
        },
        "/wallet/withdraw": {
            "post": {
                "summary": "Withdraw funds",
                "tags": [
                    "Wallet"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Initiated"
                    }
                }
            }
        },
        "/wallet/withdrawals": {
            "get": {
                "summary": "Withdrawal history",
                "tags": [
                    "Wallet"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Withdrawal list"
                    }
                }
            }
        },
        "/preferences/theme": {
            "get": {
                "summary": "Get theme",
                "tags": [
                    "Preferences"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Theme data"
                    }
                }
            },
            "patch": {
                "summary": "Update theme",
                "tags": [
                    "Preferences"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Theme updated"
                    }
                }
            }
        },
        "/preferences/faculties/colors": {
            "get": {
                "summary": "Get faculty colors",
                "tags": [
                    "Preferences"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Color map"
                    }
                }
            }
        },
        "/transactions/{id}/confirm-receipt": {
            "post": {
                "summary": "Confirm receipt",
                "tags": [
                    "Transactions"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Confirmed"
                    }
                }
            }
        },
        "/transactions/{id}/dispute": {
            "post": {
                "summary": "Dispute transaction",
                "tags": [
                    "Transactions"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Disputed"
                    }
                }
            }
        },
        "/transactions/{id}/review": {
            "post": {
                "summary": "Submit review",
                "tags": [
                    "Reviews"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Review submitted"
                    }
                }
            }
        },
        "/notifications": {
            "get": {
                "summary": "Get notifications",
                "tags": [
                    "Notifications"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Notification list"
                    }
                }
            }
        },
        "/notifications/{id}/read": {
            "post": {
                "summary": "Mark read",
                "tags": [
                    "Notifications"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Marked"
                    }
                }
            }
        },
        "/notifications/read-all": {
            "post": {
                "summary": "Mark all read",
                "tags": [
                    "Notifications"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "All marked"
                    }
                }
            }
        },
        "/admin/dashboard": {
            "get": {
                "summary": "Admin dashboard",
                "tags": [
                    "Admin"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Dashboard stats"
                    }
                }
            }
        },
        "/admin/users": {
            "get": {
                "summary": "List users",
                "tags": [
                    "Admin"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User list"
                    }
                }
            }
        },
        "/admin/users/export": {
            "get": {
                "summary": "Export users",
                "tags": [
                    "Admin"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "CSV content"
                    }
                }
            }
        },
        "/admin/users/bulk-action": {
            "post": {
                "summary": "Bulk user action",
                "tags": [
                    "Admin"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Action performed"
                    }
                }
            }
        },
        "/admin/verifications/pending": {
            "get": {
                "summary": "Get pending verifications",
                "tags": [
                    "Admin"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Pending verifications",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "verifications": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        },
                                        "total": {
                                            "type": "integer"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/admin/verifications": {
            "get": {
                "summary": "Get all verifications",
                "tags": [
                    "Admin"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "status",
                        "in": "query",
                        "schema": {
                            "type": "string",
                            "enum": [
                                "NOT_VERIFIED",
                                "PENDING",
                                "APPROVED",
                                "REJECTED"
                            ]
                        }
                    },
                    {
                        "name": "userId",
                        "in": "query",
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 1
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "schema": {
                            "type": "integer",
                            "default": 20
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Verifications with pagination"
                    }
                }
            }
        },
        "/admin/verifications/{id}/approve": {
            "post": {
                "summary": "Approve verification",
                "tags": [
                    "Admin"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Verification approved"
                    }
                }
            }
        },
        "/admin/verifications/{id}/reject": {
            "post": {
                "summary": "Reject verification",
                "tags": [
                    "Admin"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "reason"
                                ],
                                "properties": {
                                    "reason": {
                                        "type": "string",
                                        "minLength": 10
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Verification rejected"
                    }
                }
            }
        },
        "/admin/listings/queue": {
            "get": {
                "summary": "Moderation queue",
                "tags": [
                    "Admin"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Queue items"
                    }
                }
            }
        },
        "/admin/listings/{id}/review": {
            "post": {
                "summary": "Review listing",
                "tags": [
                    "Admin"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Reviewed"
                    }
                }
            }
        },
        "/admin/listings/removed": {
            "get": {
                "summary": "Removed listings",
                "tags": [
                    "Admin"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Removed list"
                    }
                }
            }
        },
        "/analytics/seller/{userId}": {
            "get": {
                "summary": "Seller profile analytics",
                "tags": [
                    "Analytics"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Analytics data"
                    }
                }
            }
        },
        "/analytics/platform/growth": {
            "get": {
                "summary": "Platform growth",
                "tags": [
                    "Analytics"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Growth stats"
                    }
                }
            }
        },
        "/analytics/platform/events": {
            "post": {
                "summary": "Record event",
                "tags": [
                    "Analytics"
                ],
                "responses": {
                    "201": {
                        "description": "Event recorded"
                    }
                }
            }
        },
        "/analytics/listings/{id}": {
            "get": {
                "summary": "Listing analytics",
                "tags": [
                    "Analytics"
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Listing stats"
                    }
                }
            }
        },
        "/analytics/seller": {
            "get": {
                "summary": "My seller stats",
                "tags": [
                    "Analytics"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Seller stats"
                    }
                }
            }
        },
        "/reports/user/{id}": {
            "post": {
                "summary": "Report user",
                "tags": [
                    "Reports"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Reported"
                    }
                }
            }
        },
        "/reports/listing/{id}": {
            "post": {
                "summary": "Report listing",
                "tags": [
                    "Reports"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Reported"
                    }
                }
            }
        },
        "/escrow/dashboard": {
            "get": {
                "summary": "Escrow overview",
                "tags": [
                    "Escrow"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Escrow data"
                    }
                }
            }
        },
        "/escrow/smart-contract": {
            "post": {
                "summary": "Init contract",
                "tags": [
                    "Escrow"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created"
                    }
                }
            }
        },
        "/escrow/smart-contract/{id}": {
            "get": {
                "summary": "Get contract",
                "tags": [
                    "Escrow"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Contract data"
                    }
                }
            }
        },
        "/escrow/smart-contract/{id}/sign": {
            "post": {
                "summary": "Sign contract",
                "tags": [
                    "Escrow"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Signed"
                    }
                }
            }
        },
        "/escrow/smart-contract/{id}/release": {
            "post": {
                "summary": "Release funds",
                "tags": [
                    "Escrow"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Released"
                    }
                }
            }
        },
        "/bulk/listings": {
            "post": {
                "summary": "Bulk create",
                "tags": [
                    "Bulk"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "202": {
                        "description": "Accepted"
                    }
                }
            }
        },
        "/bulk/listings/renew": {
            "post": {
                "summary": "Bulk renew",
                "tags": [
                    "Bulk"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "202": {
                        "description": "Accepted"
                    }
                }
            }
        },
        "/bulk/listings/price-optimize": {
            "post": {
                "summary": "Bulk price optimize",
                "tags": [
                    "Bulk"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "202": {
                        "description": "Accepted"
                    }
                }
            }
        },
        "/bulk/messages": {
            "post": {
                "summary": "Bulk message",
                "tags": [
                    "Bulk"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "202": {
                        "description": "Accepted"
                    }
                }
            }
        },
        "/bulk/export": {
            "post": {
                "summary": "Bulk export",
                "tags": [
                    "Bulk"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "202": {
                        "description": "Accepted"
                    }
                }
            }
        },
        "/bulk/status/{id}": {
            "get": {
                "summary": "Bulk status",
                "tags": [
                    "Bulk"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Status"
                    }
                }
            }
        },
        "/conversations": {
            "get": {
                "summary": "List convos",
                "tags": [
                    "Conversations"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Convo list"
                    }
                }
            },
            "post": {
                "summary": "Start convo",
                "tags": [
                    "Conversations"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Started"
                    }
                }
            }
        },
        "/conversations/{id}/messages": {
            "get": {
                "summary": "Get msg history",
                "tags": [
                    "Conversations"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Msg history"
                    }
                }
            },
            "post": {
                "summary": "Send msg",
                "tags": [
                    "Conversations"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Sent"
                    }
                }
            }
        },
        "/watchlist": {
            "get": {
                "summary": "Get watchlist",
                "tags": [
                    "Watchlist"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Saved items"
                    }
                }
            }
        },
        "/users/{id}/reviews": {
            "get": {
                "summary": "Get user reviews",
                "tags": [
                    "Reviews"
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Review list"
                    }
                }
            }
        },
        "/users/{id}/rating-summary": {
            "get": {
                "summary": "Get rating summary",
                "tags": [
                    "Reviews"
                ],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Summary"
                    }
                }
            }
        },
        "/verification/upload-id": {
            "post": {
                "summary": "Upload ID",
                "tags": [
                    "Verification"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Uploaded"
                    }
                }
            }
        },
        "/verification/status": {
            "get": {
                "summary": "Get verif status",
                "tags": [
                    "Verification"
                ],
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Status"
                    }
                }
            }
        },
        "/health": {
            "get": {
                "summary": "Health check",
                "tags": [
                    "System"
                ],
                "responses": {
                    "200": {
                        "description": "OK"
                    }
                }
            }
        }
    }
}